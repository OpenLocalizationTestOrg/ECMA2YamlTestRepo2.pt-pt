### YamlMime:ManagedReference
items:
- uid: System.Web.UI.WebControls.WebParts.PersonalizationProvider
  id: PersonalizationProvider
  children:
  - System.Web.UI.WebControls.WebParts.PersonalizationProvider.#ctor
  - System.Web.UI.WebControls.WebParts.PersonalizationProvider.ApplicationName
  - System.Web.UI.WebControls.WebParts.PersonalizationProvider.CreateSupportedUserCapabilities
  - System.Web.UI.WebControls.WebParts.PersonalizationProvider.DetermineInitialScope(System.Web.UI.WebControls.WebParts.WebPartManager,System.Web.UI.WebControls.WebParts.PersonalizationState)
  - System.Web.UI.WebControls.WebParts.PersonalizationProvider.DetermineUserCapabilities(System.Web.UI.WebControls.WebParts.WebPartManager)
  - System.Web.UI.WebControls.WebParts.PersonalizationProvider.FindState(System.Web.UI.WebControls.WebParts.PersonalizationScope,System.Web.UI.WebControls.WebParts.PersonalizationStateQuery,System.Int32,System.Int32,System.Int32@)
  - System.Web.UI.WebControls.WebParts.PersonalizationProvider.GetCountOfState(System.Web.UI.WebControls.WebParts.PersonalizationScope,System.Web.UI.WebControls.WebParts.PersonalizationStateQuery)
  - System.Web.UI.WebControls.WebParts.PersonalizationProvider.LoadPersonalizationBlobs(System.Web.UI.WebControls.WebParts.WebPartManager,System.String,System.String,System.Byte[]@,System.Byte[]@)
  - System.Web.UI.WebControls.WebParts.PersonalizationProvider.LoadPersonalizationState(System.Web.UI.WebControls.WebParts.WebPartManager,System.Boolean)
  - System.Web.UI.WebControls.WebParts.PersonalizationProvider.ResetPersonalizationBlob(System.Web.UI.WebControls.WebParts.WebPartManager,System.String,System.String)
  - System.Web.UI.WebControls.WebParts.PersonalizationProvider.ResetPersonalizationState(System.Web.UI.WebControls.WebParts.WebPartManager)
  - System.Web.UI.WebControls.WebParts.PersonalizationProvider.ResetState(System.Web.UI.WebControls.WebParts.PersonalizationScope,System.String[],System.String[])
  - System.Web.UI.WebControls.WebParts.PersonalizationProvider.ResetUserState(System.String,System.DateTime)
  - System.Web.UI.WebControls.WebParts.PersonalizationProvider.SavePersonalizationBlob(System.Web.UI.WebControls.WebParts.WebPartManager,System.String,System.String,System.Byte[])
  - System.Web.UI.WebControls.WebParts.PersonalizationProvider.SavePersonalizationState(System.Web.UI.WebControls.WebParts.PersonalizationState)
  langs:
  - csharp
  name: PersonalizationProvider
  nameWithType: PersonalizationProvider
  fullName: System.Web.UI.WebControls.WebParts.PersonalizationProvider
  type: Class
  summary: "Implements the basic functionality for a personalization provider."
  remarks: "This is the abstract base class that defines the required functionality of a personalization provider. A personalization provider both loads and stores personalization data on behalf of a <xref:System.Web.UI.WebControls.WebParts.WebPartPersonalization> instance.       The base class defines standard behavior for a number of methods; only those methods that specifically deal with the underlying data store are marked abstract. This allows a developer to write a custom provider to interact with a specific data store, without needing to re-implement standard functionality used by the <xref:System.Web.UI.WebControls.WebParts.WebPartPersonalization> class."
  syntax:
    content: 'public abstract class PersonalizationProvider : System.Configuration.Provider.ProviderBase'
  inheritance:
  - System.Object
  - System.Configuration.Provider.ProviderBase
  implements: []
  inheritedMembers:
  - System.Configuration.Provider.ProviderBase.Description
  - System.Configuration.Provider.ProviderBase.Initialize(System.String,System.Collections.Specialized.NameValueCollection)
  - System.Configuration.Provider.ProviderBase.Name
  platform:
  - net462
- uid: System.Web.UI.WebControls.WebParts.PersonalizationProvider.#ctor
  id: '#ctor'
  parent: System.Web.UI.WebControls.WebParts.PersonalizationProvider
  langs:
  - csharp
  name: PersonalizationProvider()
  nameWithType: PersonalizationProvider.PersonalizationProvider()
  fullName: System.Web.UI.WebControls.WebParts.PersonalizationProvider.PersonalizationProvider()
  type: Constructor
  assemblies:
  - System.Web
  namespace: System.Web.UI.WebControls.WebParts
  summary: "Initializes a new instance of the <xref href=&quot;System.Web.UI.WebControls.WebParts.PersonalizationProvider&quot;></xref> class."
  remarks: "Because this is a constructor for an abstract class, you must override this method to create an instance of a class that inherits from this class."
  syntax:
    content: protected PersonalizationProvider ();
    parameters: []
  overload: System.Web.UI.WebControls.WebParts.PersonalizationProvider.#ctor*
  exceptions: []
  platform:
  - net462
- uid: System.Web.UI.WebControls.WebParts.PersonalizationProvider.ApplicationName
  id: ApplicationName
  parent: System.Web.UI.WebControls.WebParts.PersonalizationProvider
  langs:
  - csharp
  name: ApplicationName
  nameWithType: PersonalizationProvider.ApplicationName
  fullName: System.Web.UI.WebControls.WebParts.PersonalizationProvider.ApplicationName
  type: Property
  assemblies:
  - System.Web
  namespace: System.Web.UI.WebControls.WebParts
  summary: "When overridden in a derived class, gets or sets the name of the application configured for the provider."
  remarks: "If an application name is not specified in the configuration file using the [providers Element for personalization for webParts (ASP.NET Settings Schema)](http://msdn.microsoft.com/en-us/51363b49-eafa-4b9c-b9d0-80086b385195) attribute, the value of the <xref:System.Web.Hosting.HostingEnvironment.ApplicationVirtualPath%2A> property is used.      > [!CAUTION] >  Because a single, default personalization provider instance is used for all the requests served by an <xref:System.Web.HttpApplication> object, you can have multiple requests executing concurrently, each attempting to set the ApplicationName property value. The ApplicationName property is not thread-safe for multiple writes, and changing the ApplicationName property value can result in unexpected behavior for multiple users of an application. It is recommended that you avoid code allowing users to set the ApplicationName property unless required. Setting the ApplicationName property might be required, for example, in an administrative application that manages personalization data for multiple applications."
  syntax:
    content: public abstract string ApplicationName { get; set; }
    return:
      type: System.String
      description: "The application configured for the personalization provider."
  overload: System.Web.UI.WebControls.WebParts.PersonalizationProvider.ApplicationName*
  exceptions: []
  platform:
  - net462
- uid: System.Web.UI.WebControls.WebParts.PersonalizationProvider.CreateSupportedUserCapabilities
  id: CreateSupportedUserCapabilities
  parent: System.Web.UI.WebControls.WebParts.PersonalizationProvider
  langs:
  - csharp
  name: CreateSupportedUserCapabilities()
  nameWithType: PersonalizationProvider.CreateSupportedUserCapabilities()
  fullName: System.Web.UI.WebControls.WebParts.PersonalizationProvider.CreateSupportedUserCapabilities()
  type: Method
  assemblies:
  - System.Web
  namespace: System.Web.UI.WebControls.WebParts
  summary: "Returns a list of <xref href=&quot;System.Web.UI.WebControls.WebParts.WebPartUserCapability&quot;></xref> objects that represent the set of known capabilities used by the Web Parts control set."
  remarks: 'Currently, this method returns a list containing two capabilities: <xref:System.Web.UI.WebControls.WebParts.WebPartPersonalization.EnterSharedScopeUserCapability> and <xref:System.Web.UI.WebControls.WebParts.WebPartPersonalization.ModifyStateUserCapability>. These are the default capabilities that can be defined in the [authorization Element for personalization for webParts (ASP.NET Settings Schema)](http://msdn.microsoft.com/en-us/d190d4ff-1445-4ee1-88eb-9737c7aa1434) element within the [personalization Element for webParts (ASP.NET Settings Schema)](http://msdn.microsoft.com/en-us/3d77da55-73ce-46ce-97cf-7d2abcaada09) element of the[webParts Element (ASP.NET Settings Schema)](http://msdn.microsoft.com/en-us/90af5acc-5a80-4b39-bba7-74afd06b167c) configuration section. If you choose to implement a custom personalization infrastructure, you can override this method and define your own set of authorization-related user capabilities.'
  syntax:
    content: protected virtual System.Collections.IList CreateSupportedUserCapabilities ();
    parameters: []
    return:
      type: System.Collections.IList
      description: "An <xref:System.Collections.IList> that represents the set of known capabilities used by the Web Parts control set."
  overload: System.Web.UI.WebControls.WebParts.PersonalizationProvider.CreateSupportedUserCapabilities*
  exceptions: []
  platform:
  - net462
- uid: System.Web.UI.WebControls.WebParts.PersonalizationProvider.DetermineInitialScope(System.Web.UI.WebControls.WebParts.WebPartManager,System.Web.UI.WebControls.WebParts.PersonalizationState)
  id: DetermineInitialScope(System.Web.UI.WebControls.WebParts.WebPartManager,System.Web.UI.WebControls.WebParts.PersonalizationState)
  parent: System.Web.UI.WebControls.WebParts.PersonalizationProvider
  langs:
  - csharp
  name: DetermineInitialScope(WebPartManager,PersonalizationState)
  nameWithType: PersonalizationProvider.DetermineInitialScope(WebPartManager,PersonalizationState)
  fullName: System.Web.UI.WebControls.WebParts.PersonalizationProvider.DetermineInitialScope(WebPartManager,PersonalizationState)
  type: Method
  assemblies:
  - System.Web
  namespace: System.Web.UI.WebControls.WebParts
  summary: "Determines whether the initial personalization scope should be <xref href=&quot;System.Web.UI.WebControls.WebParts.PersonalizationScope&quot;></xref> or <xref href=&quot;System.Web.UI.WebControls.WebParts.PersonalizationScope&quot;></xref> scope."
  remarks: "This method determines whether the current scope should be <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope> or <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope>, given a reference to a <xref:System.Web.UI.WebControls.WebParts.WebPartManager> control and the personalization state information that has already been loaded from earlier in the personalization life cycle. This information is used by a <xref:System.Web.UI.WebControls.WebParts.WebPartPersonalization> instance for subsequent personalization-related tasks.       The following rules are used to determine personalization scope:      -   Scope is assumed initially to be <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope>.      -   If the currently executing user account is not authenticated, the scope is set to <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope>.      -   If the currently executing user account is authenticated, additional processing occurs in order of precedence:          -   If the page is in postback mode, the page request contains scope information from a previous rendering of the page. If that scope information indicates that <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope> scope was used, then the scope evaluates to <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope>.          -   If the currently executing page had control transferred to it from another page (for example, if the transfer of control occurred due to calling the <xref:System.Web.HttpServerUtility.Transfer%2A> method; note that this specific check does not occur for cross-page posting), and if the previously executing page had a <xref:System.Web.UI.WebControls.WebParts.WebPartManager> instance, the scope is set to the value of the `Personalization.Scope` property from the previous <xref:System.Web.UI.WebControls.WebParts.WebPartManager> instance.          -   If the previous criteria are not met, then the scope evaluates to the value of the <xref:System.Web.UI.WebControls.WebParts.WebPartPersonalization.InitialScope%2A> property for the current <xref:System.Web.UI.WebControls.WebParts.WebPartManager> control.       After the previous evaluations have been made, and if the scope evaluates to <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope> scope, the following processing occurs:      -   If the currently executing user account has the <xref:System.Web.UI.WebControls.WebParts.WebPartPersonalization.EnterSharedScopeUserCapability> capability, the scope remains set to <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope>.      -   If the currently executing user account does not have the <xref:System.Web.UI.WebControls.WebParts.WebPartPersonalization.EnterSharedScopeUserCapability> capability, then the scope is reset to <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope>.      -   If the result of all previous scope evaluations is <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope>, this result is stored as a hidden field on the currently executing page. This is the mechanism whereby a page can replay the scope evaluation during subsequent postbacks."
  syntax:
    content: public virtual System.Web.UI.WebControls.WebParts.PersonalizationScope DetermineInitialScope (System.Web.UI.WebControls.WebParts.WebPartManager webPartManager, System.Web.UI.WebControls.WebParts.PersonalizationState loadedState);
    parameters:
    - id: webPartManager
      type: System.Web.UI.WebControls.WebParts.WebPartManager
      description: "The <xref href=&quot;System.Web.UI.WebControls.WebParts.WebPartManager&quot;></xref> that manages the personalization information."
    - id: loadedState
      type: System.Web.UI.WebControls.WebParts.PersonalizationState
      description: "The personalization state information."
    return:
      type: System.Web.UI.WebControls.WebParts.PersonalizationScope
      description: "A <xref href=&quot;System.Web.UI.WebControls.WebParts.PersonalizationScope&quot;></xref> indicating whether the current personalization scope is <xref href=&quot;System.Web.UI.WebControls.WebParts.PersonalizationScope&quot;></xref> or <xref href=&quot;System.Web.UI.WebControls.WebParts.PersonalizationScope&quot;></xref>."
  overload: System.Web.UI.WebControls.WebParts.PersonalizationProvider.DetermineInitialScope*
  exceptions:
  - type: System.ArgumentNullException
    commentId: T:System.ArgumentNullException
    description: "<code>webPartManager</code> is <xref uid=&quot;langword_csharp_null&quot; name=&quot;null&quot; href=&quot;&quot;></xref>."
  - type: System.ArgumentException
    commentId: T:System.ArgumentException
    description: "The page associated with <code>webPartManager</code> is <xref uid=&quot;langword_csharp_null&quot; name=&quot;null&quot; href=&quot;&quot;></xref>."
  platform:
  - net462
- uid: System.Web.UI.WebControls.WebParts.PersonalizationProvider.DetermineUserCapabilities(System.Web.UI.WebControls.WebParts.WebPartManager)
  id: DetermineUserCapabilities(System.Web.UI.WebControls.WebParts.WebPartManager)
  parent: System.Web.UI.WebControls.WebParts.PersonalizationProvider
  langs:
  - csharp
  name: DetermineUserCapabilities(WebPartManager)
  nameWithType: PersonalizationProvider.DetermineUserCapabilities(WebPartManager)
  fullName: System.Web.UI.WebControls.WebParts.PersonalizationProvider.DetermineUserCapabilities(WebPartManager)
  type: Method
  assemblies:
  - System.Web
  namespace: System.Web.UI.WebControls.WebParts
  summary: "Returns a dictionary containing <xref href=&quot;System.Web.UI.WebControls.WebParts.WebPartUserCapability&quot;></xref> instances that represent the personalization-related capabilities of the currently executing user account."
  remarks: "The default implementation of this method consumes the information in the [authorization Element for personalization for webParts (ASP.NET Settings Schema)](http://msdn.microsoft.com/en-us/d190d4ff-1445-4ee1-88eb-9737c7aa1434) element within the [personalization Element for webParts (ASP.NET Settings Schema)](http://msdn.microsoft.com/en-us/3d77da55-73ce-46ce-97cf-7d2abcaada09) element of the[webParts Element (ASP.NET Settings Schema)](http://msdn.microsoft.com/en-us/90af5acc-5a80-4b39-bba7-74afd06b167c) configuration section in the Machine.config or Web.config file to determine a user&quot;s authorized capabilities.       The capabilities in the dictionary will be members of the <xref:System.Collections.IList> object returned by the <xref:System.Web.UI.WebControls.WebParts.PersonalizationProvider.CreateSupportedUserCapabilities%2A> method, which currently include the <xref:System.Web.UI.WebControls.WebParts.WebPartPersonalization.EnterSharedScopeUserCapability> capability and the <xref:System.Web.UI.WebControls.WebParts.WebPartPersonalization.ModifyStateUserCapability> capability."
  syntax:
    content: public virtual System.Collections.IDictionary DetermineUserCapabilities (System.Web.UI.WebControls.WebParts.WebPartManager webPartManager);
    parameters:
    - id: webPartManager
      type: System.Web.UI.WebControls.WebParts.WebPartManager
      description: "The <xref href=&quot;System.Web.UI.WebControls.WebParts.WebPartManager&quot;></xref> managing the personalization information."
    return:
      type: System.Collections.IDictionary
      description: "An <xref:System.Collections.IDictionary> containing zero or more <xref href=&quot;System.Web.UI.WebControls.WebParts.WebPartUserCapability&quot;></xref> instances if the user account is authenticated, or <xref uid=&quot;langword_csharp_null&quot; name=&quot;null&quot; href=&quot;&quot;></xref> if the executing user account is not authenticated."
  overload: System.Web.UI.WebControls.WebParts.PersonalizationProvider.DetermineUserCapabilities*
  exceptions:
  - type: System.ArgumentException
    commentId: T:System.ArgumentException
    description: "The page associated with <code>webPartManager</code> is <xref uid=\"langword_csharp_null\" name=\"null\" href=\"\"></xref>.  \n  \n \\- or -  \n  \n The request associated with the page is <xref uid=\"langword_csharp_null\" name=\"null\" href=\"\"></xref>."
  - type: System.ArgumentNullException
    commentId: T:System.ArgumentNullException
    description: "<code>webPartManager</code> is <xref uid=&quot;langword_csharp_null&quot; name=&quot;null&quot; href=&quot;&quot;></xref>."
  platform:
  - net462
- uid: System.Web.UI.WebControls.WebParts.PersonalizationProvider.FindState(System.Web.UI.WebControls.WebParts.PersonalizationScope,System.Web.UI.WebControls.WebParts.PersonalizationStateQuery,System.Int32,System.Int32,System.Int32@)
  id: FindState(System.Web.UI.WebControls.WebParts.PersonalizationScope,System.Web.UI.WebControls.WebParts.PersonalizationStateQuery,System.Int32,System.Int32,System.Int32@)
  parent: System.Web.UI.WebControls.WebParts.PersonalizationProvider
  langs:
  - csharp
  name: FindState(PersonalizationScope,PersonalizationStateQuery,Int32,Int32,Int32)
  nameWithType: PersonalizationProvider.FindState(PersonalizationScope,PersonalizationStateQuery,Int32,Int32,Int32)
  fullName: System.Web.UI.WebControls.WebParts.PersonalizationProvider.FindState(PersonalizationScope,PersonalizationStateQuery,Int32,Int32,Int32)
  type: Method
  assemblies:
  - System.Web
  namespace: System.Web.UI.WebControls.WebParts
  summary: "When overridden in a derived class, returns a collection containing zero or more <xref href=&quot;System.Web.UI.WebControls.WebParts.PersonalizationStateInfo&quot;></xref>-derived objects based on scope and specific query parameters."
  remarks: "This method is the abstract definition of an administrative method for querying personalization data. Derived implementations should follow the logic described below.       The set of returned items is constrained by the `pageIndex` and `pageSize` parameters, where `pageSize` sets the number of records to return and `pageIndex` sets which records to return. For example, a `pageIndex` of 0 and a `pageSize` of 25 would return the first 25 occurrences, while a `pageIndex` of 1 and a `pageSize` of 25 would return occurrences 26-50. If you want to retrieve all available records, set `pageIndex` to 0 and `pageSize` to <xref:System.Int32.MaxValue>.       The <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateInfo>-derived objects are returned in alphabetical order and sorted by a combination of their <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateInfo.Path%2A> and <xref:System.Web.UI.WebControls.WebParts.UserPersonalizationStateInfo.Username%2A> property values, both in ascending order.       This method passes query wildcard characters to the underlying data store. Support for wildcard characters is currently dependent on how each provider handles characters such as an asterisk (*), a percent symbol (%), or an underscore (_).       Normally, for SQL-compliant data stores, you can perform a wildcard search on a partial path with the wildcard character appearing at the beginning, the end, or the middle of the search string text in the <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.PathToMatch%2A> property. For example, to find all paths that start with &quot;~/vdir&quot;, the <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.PathToMatch%2A> property would be set to &quot;~/vdir%&quot;.       Likewise, a wildcard search on a partial user name could have the wildcard character appear at any point in the text string of the <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.UsernameToMatch%2A> property. For example, to find all user names that start with &quot;John&quot;, the <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.UsernameToMatch%2A> parameter would look like &quot;John%&quot;.       The following query constraints apply:      -   If only `scope` is provided, and `query` is `null` or all the properties on `query` return either `null` or default values, then all records matching the indicated `scope` parameter are returned.      -   If the <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.PathToMatch%2A> property is not `null`, the returned records are also filtered based on paths that match the <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.PathToMatch%2A> value.      -   If the <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.UsernameToMatch%2A> property is not `null`, the returned records are also filtered based on user names that match the <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.UsernameToMatch%2A> property value.      -   If the <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.UserInactiveSinceDate%2A> property is not equal to <xref:System.DateTime.MaxValue>, then the returned records are also filtered to return only those records associated with inactive users. The comparison includes records where the <xref:System.Web.UI.WebControls.WebParts.UserPersonalizationStateInfo.LastActivityDate%2A> property is less than or equal to the <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.UserInactiveSinceDate%2A> property.       Note that this method does not validate combinations of query parameters. For example, code can request a set of personalization state records associated with a specific user name in the shared scope. Because user names are not associated with shared information, the returned collection would be empty.       Parameter combinations that have the potential to return a non-empty collection include:      -   <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope> scope in combination with the <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.PathToMatch%2A> property.      -   <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope> scope in combination with the values for any or all of the <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.PathToMatch%2A>, <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.UsernameToMatch%2A>, and <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.UserInactiveSinceDate%2A> properties."
  syntax:
    content: public abstract System.Web.UI.WebControls.WebParts.PersonalizationStateInfoCollection FindState (System.Web.UI.WebControls.WebParts.PersonalizationScope scope, System.Web.UI.WebControls.WebParts.PersonalizationStateQuery query, int pageIndex, int pageSize, out int totalRecords);
    parameters:
    - id: scope
      type: System.Web.UI.WebControls.WebParts.PersonalizationScope
      description: "A <xref href=&quot;System.Web.UI.WebControls.WebParts.PersonalizationScope&quot;></xref> with the personalization information to be queried. This value cannot be <xref uid=&quot;langword_csharp_null&quot; name=&quot;null&quot; href=&quot;&quot;></xref>."
    - id: query
      type: System.Web.UI.WebControls.WebParts.PersonalizationStateQuery
      description: "A <xref href=&quot;System.Web.UI.WebControls.WebParts.PersonalizationStateQuery&quot;></xref> containing a query. This value can be <xref uid=&quot;langword_csharp_null&quot; name=&quot;null&quot; href=&quot;&quot;></xref>."
    - id: pageIndex
      type: System.Int32
      description: "The location where the query starts."
    - id: pageSize
      type: System.Int32
      description: "The number of records to return."
    - id: totalRecords
      type: System.Int32
      description: "The total number of records available."
    return:
      type: System.Web.UI.WebControls.WebParts.PersonalizationStateInfoCollection
      description: "A <xref href=&quot;System.Web.UI.WebControls.WebParts.PersonalizationStateInfoCollection&quot;></xref> containing zero or more <xref href=&quot;System.Web.UI.WebControls.WebParts.PersonalizationStateInfo&quot;></xref>-derived objects."
  overload: System.Web.UI.WebControls.WebParts.PersonalizationProvider.FindState*
  exceptions: []
  platform:
  - net462
- uid: System.Web.UI.WebControls.WebParts.PersonalizationProvider.GetCountOfState(System.Web.UI.WebControls.WebParts.PersonalizationScope,System.Web.UI.WebControls.WebParts.PersonalizationStateQuery)
  id: GetCountOfState(System.Web.UI.WebControls.WebParts.PersonalizationScope,System.Web.UI.WebControls.WebParts.PersonalizationStateQuery)
  parent: System.Web.UI.WebControls.WebParts.PersonalizationProvider
  langs:
  - csharp
  name: GetCountOfState(PersonalizationScope,PersonalizationStateQuery)
  nameWithType: PersonalizationProvider.GetCountOfState(PersonalizationScope,PersonalizationStateQuery)
  fullName: System.Web.UI.WebControls.WebParts.PersonalizationProvider.GetCountOfState(PersonalizationScope,PersonalizationStateQuery)
  type: Method
  assemblies:
  - System.Web
  namespace: System.Web.UI.WebControls.WebParts
  summary: "When overridden in a derived class, returns the number of rows in the underlying data store that exist within the specified scope."
  remarks: "This method is the abstract definition of an administrative method for retrieving counts of personalization data. Derived implementations should follow the logic described below.       This method passes query wildcard characters to the underlying data store. Support for wildcard characters is currently dependent on how each provider handles characters such as an asterisk (*), a percent symbol (%), or an underscore (_).       Normally, for SQL-compliant data stores, you can perform a wildcard search on a partial path with the wildcard character appearing at the beginning, the end, or the middle of the search string text in the <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.PathToMatch%2A> property. For example, to find all paths that start with &quot;~/vdir&quot;, the <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.PathToMatch%2A> property would be set to &quot;~/vdir%&quot;.       Likewise, a wildcard search on a partial user name could have the wildcard character appear at any point in the text string of the <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.UsernameToMatch%2A> property. For example, to find all user names that start with &quot;John&quot;, the <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.UsernameToMatch%2A> parameter would look like &quot;John%&quot;.       The following query constraints apply:      -   If only `scope` is provided, and `query` is `null` or all the properties on `query` return either `null` or default values, then all records matching the indicated `scope` parameter are counted.      -   If the <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.PathToMatch%2A> property is not `null`, the counted records are also filtered based on paths that match the <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.PathToMatch%2A> value.      -   If the <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.UsernameToMatch%2A> property is not `null`, the counted records are also filtered based on user names that match the <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.UsernameToMatch%2A> property value.      -   If the <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.UserInactiveSinceDate%2A> property is not equal to <xref:System.DateTime.MaxValue>, then the counted records are also filtered to return only those records associated with inactive users. The comparison includes records where the <xref:System.Web.UI.WebControls.WebParts.UserPersonalizationStateInfo.LastActivityDate%2A> property is less than or equal to the <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.UserInactiveSinceDate%2A> property.       Note that this method does not validate combinations of query parameters. For example, code can request a count of personalization state records associated with a specific user name in the shared scope. Because user names are not associated with shared information, the returned count would be zero.       Parameter combinations that have the potential to return a non-zero count include:      -   <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope> scope in combination with the <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.PathToMatch%2A> property.      -   <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope> scope in combination with the values for any or all of the <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.PathToMatch%2A>, <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.UsernameToMatch%2A>, and <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.UserInactiveSinceDate%2A> properties."
  syntax:
    content: public abstract int GetCountOfState (System.Web.UI.WebControls.WebParts.PersonalizationScope scope, System.Web.UI.WebControls.WebParts.PersonalizationStateQuery query);
    parameters:
    - id: scope
      type: System.Web.UI.WebControls.WebParts.PersonalizationScope
      description: "A <xref href=&quot;System.Web.UI.WebControls.WebParts.PersonalizationScope&quot;></xref> of the personalization information to be queried. This value cannot be <xref uid=&quot;langword_csharp_null&quot; name=&quot;null&quot; href=&quot;&quot;></xref>."
    - id: query
      type: System.Web.UI.WebControls.WebParts.PersonalizationStateQuery
      description: "A <xref href=&quot;System.Web.UI.WebControls.WebParts.PersonalizationStateQuery&quot;></xref> containing a query. This value can be <xref uid=&quot;langword_csharp_null&quot; name=&quot;null&quot; href=&quot;&quot;></xref>."
    return:
      type: System.Int32
      description: "The number of rows in the underlying data store that exist for the specified <code>scope</code> parameter."
  overload: System.Web.UI.WebControls.WebParts.PersonalizationProvider.GetCountOfState*
  exceptions: []
  platform:
  - net462
- uid: System.Web.UI.WebControls.WebParts.PersonalizationProvider.LoadPersonalizationBlobs(System.Web.UI.WebControls.WebParts.WebPartManager,System.String,System.String,System.Byte[]@,System.Byte[]@)
  id: LoadPersonalizationBlobs(System.Web.UI.WebControls.WebParts.WebPartManager,System.String,System.String,System.Byte[]@,System.Byte[]@)
  parent: System.Web.UI.WebControls.WebParts.PersonalizationProvider
  langs:
  - csharp
  name: LoadPersonalizationBlobs(WebPartManager,String,String,Byte[],Byte[])
  nameWithType: PersonalizationProvider.LoadPersonalizationBlobs(WebPartManager,String,String,Byte[],Byte[])
  fullName: System.Web.UI.WebControls.WebParts.PersonalizationProvider.LoadPersonalizationBlobs(WebPartManager,String,String,Byte[],Byte[])
  type: Method
  assemblies:
  - System.Web
  namespace: System.Web.UI.WebControls.WebParts
  summary: "When overridden in a derived class, loads raw personalization data from the underlying data store."
  remarks: "Classes that derive from <xref:System.Web.UI.WebControls.WebParts.PersonalizationProvider> and implement this method should use the `webPartManager`, `path`, and `username` parameters as retrieval keys. Regardless of how the data is stored in the data store (some data stores might perform some type of intelligent storage), the personalization data must be returned as a packed set of bytes in two arrays. The returned data must conform to the following rules:      -   The data for the <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope> scope must always be returned in the `sharedDataBlob` parameter.      -   Depending on the key values, <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope> data is returned in the `userDataBlob` parameter. A non-`null` value for the `userName` parameter indicates that <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope> data should also be retrieved.       A personalization provider that derives from <xref:System.Web.UI.WebControls.WebParts.PersonalizationProvider> and implements this method can optimize interactions with its data store by retrieving all personalization data in one round trip, as opposed to retrieving <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope> and <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope> data in two separate round trips."
  syntax:
    content: protected abstract void LoadPersonalizationBlobs (System.Web.UI.WebControls.WebParts.WebPartManager webPartManager, string path, string userName, ref byte[] sharedDataBlob, ref byte[] userDataBlob);
    parameters:
    - id: webPartManager
      type: System.Web.UI.WebControls.WebParts.WebPartManager
      description: "The <xref href=&quot;System.Web.UI.WebControls.WebParts.WebPartManager&quot;></xref> managing the personalization data."
    - id: path
      type: System.String
      description: "The path for personalization information to be used as the retrieval key."
    - id: userName
      type: System.String
      description: "The user name for personalization information to be used as the retrieval key."
    - id: sharedDataBlob
      type: System.Byte[]
      description: "The returned data for the <xref href=&quot;System.Web.UI.WebControls.WebParts.PersonalizationScope&quot;></xref> scope."
    - id: userDataBlob
      type: System.Byte[]
      description: "The returned data for the <xref href=&quot;System.Web.UI.WebControls.WebParts.PersonalizationScope&quot;></xref> scope."
  overload: System.Web.UI.WebControls.WebParts.PersonalizationProvider.LoadPersonalizationBlobs*
  exceptions: []
  platform:
  - net462
- uid: System.Web.UI.WebControls.WebParts.PersonalizationProvider.LoadPersonalizationState(System.Web.UI.WebControls.WebParts.WebPartManager,System.Boolean)
  id: LoadPersonalizationState(System.Web.UI.WebControls.WebParts.WebPartManager,System.Boolean)
  parent: System.Web.UI.WebControls.WebParts.PersonalizationProvider
  langs:
  - csharp
  name: LoadPersonalizationState(WebPartManager,Boolean)
  nameWithType: PersonalizationProvider.LoadPersonalizationState(WebPartManager,Boolean)
  fullName: System.Web.UI.WebControls.WebParts.PersonalizationProvider.LoadPersonalizationState(WebPartManager,Boolean)
  type: Method
  assemblies:
  - System.Web
  namespace: System.Web.UI.WebControls.WebParts
  summary: "Loads the raw data from the underlying data store and converts that data into a <xref href=&quot;System.Web.UI.WebControls.WebParts.PersonalizationState&quot;></xref> object."
  remarks: "This method is the main entry point used by the <xref:System.Web.UI.WebControls.WebParts.WebPartPersonalization> class to load personalization data. The default implementation loads the raw data from the underlying data store (functionality is implemented in derived providers) and then converts the raw data into a <xref:System.Web.UI.WebControls.WebParts.PersonalizationState> instance.       If the `ignoreCurrentUser` parameter is `true`, no user name is passed to the <xref:System.Web.UI.WebControls.WebParts.PersonalizationProvider.LoadPersonalizationBlobs%2A> method. A personalization provider can choose to interpret this as meaning that only personalization state with a <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope> scope should be retrieved from the underlying data store.       When the <xref:System.Web.UI.WebControls.WebParts.WebPartPersonalization.Load%2A> method is executing, it calls the LoadPersonalizationState method, and there are three types of deserialization errors that can occur as the state is being loaded. When these specific errors occur, no exception is thrown, and the error events are logged instead by the Health Monitoring feature (for information on health monitoring and accessing the logs created by it, see [ASP.NET Health Monitoring Overview](~/add/includes/ajax-current-ext-md.md)). The following three scenarios cause deserialization error events to be written to the log:      -   A failed attempt to deserialize a property type that uses a string <xref:System.ComponentModel.TypeConverter>.      -   A failed attempt to deserialize a property type that uses binary serialization.      -   A failed attempt to deserialize a property type because an instance of the type cannot be created."
  syntax:
    content: public virtual System.Web.UI.WebControls.WebParts.PersonalizationState LoadPersonalizationState (System.Web.UI.WebControls.WebParts.WebPartManager webPartManager, bool ignoreCurrentUser);
    parameters:
    - id: webPartManager
      type: System.Web.UI.WebControls.WebParts.WebPartManager
      description: "The <xref href=&quot;System.Web.UI.WebControls.WebParts.WebPartManager&quot;></xref> managing the personalization data."
    - id: ignoreCurrentUser
      type: System.Boolean
      description: "A <xref:System.Boolean> indicating whether the user name should be passed to the personalization provider."
    return:
      type: System.Web.UI.WebControls.WebParts.PersonalizationState
      description: "A <xref href=&quot;System.Web.UI.WebControls.WebParts.PersonalizationState&quot;></xref> containing personalization data."
  overload: System.Web.UI.WebControls.WebParts.PersonalizationProvider.LoadPersonalizationState*
  exceptions:
  - type: System.ArgumentNullException
    commentId: T:System.ArgumentNullException
    description: "The <code>webPartManager</code> is <xref uid=&quot;langword_csharp_null&quot; name=&quot;null&quot; href=&quot;&quot;></xref>."
  - type: System.ArgumentException
    commentId: T:System.ArgumentException
    description: "The page associated with <code>webPartManager</code> is <xref uid=\"langword_csharp_null\" name=\"null\" href=\"\"></xref>.  \n  \n \\- or -  \n  \n The request associated with the page is <xref uid=\"langword_csharp_null\" name=\"null\" href=\"\"></xref>."
  platform:
  - net462
- uid: System.Web.UI.WebControls.WebParts.PersonalizationProvider.ResetPersonalizationBlob(System.Web.UI.WebControls.WebParts.WebPartManager,System.String,System.String)
  id: ResetPersonalizationBlob(System.Web.UI.WebControls.WebParts.WebPartManager,System.String,System.String)
  parent: System.Web.UI.WebControls.WebParts.PersonalizationProvider
  langs:
  - csharp
  name: ResetPersonalizationBlob(WebPartManager,String,String)
  nameWithType: PersonalizationProvider.ResetPersonalizationBlob(WebPartManager,String,String)
  fullName: System.Web.UI.WebControls.WebParts.PersonalizationProvider.ResetPersonalizationBlob(WebPartManager,String,String)
  type: Method
  assemblies:
  - System.Web
  namespace: System.Web.UI.WebControls.WebParts
  summary: "When overridden in a derived class, deletes raw personalization data from the underlying data store."
  remarks: "Classes that derive from <xref:System.Web.UI.WebControls.WebParts.PersonalizationProvider> and implement this method should use the `webPartManager`, `path`, and `userName` parameters as storage keys. Derived implementations must modify the data store so that personalization data for supplied storage keys is effectively deleted. It is up to the derived implementations as to how they physically accomplish this.       The derived personalization provider must be able to distinguish personalization data on a per-page basis. Furthermore, for a given page&quot;s state, the personalization provider must be able to distinguish between <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope> and <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope> scope data. If a non-`null` user name is provided, then the reset operation applies to the <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope> scope; otherwise, the reset operation applies to the <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope> scope."
  syntax:
    content: protected abstract void ResetPersonalizationBlob (System.Web.UI.WebControls.WebParts.WebPartManager webPartManager, string path, string userName);
    parameters:
    - id: webPartManager
      type: System.Web.UI.WebControls.WebParts.WebPartManager
      description: "The <xref href=&quot;System.Web.UI.WebControls.WebParts.WebPartManager&quot;></xref> managing the personalization data."
    - id: path
      type: System.String
      description: "The path for personalization information to be used as the data store key."
    - id: userName
      type: System.String
      description: "The user name for personalization information to be used as the data store key."
  overload: System.Web.UI.WebControls.WebParts.PersonalizationProvider.ResetPersonalizationBlob*
  exceptions: []
  platform:
  - net462
- uid: System.Web.UI.WebControls.WebParts.PersonalizationProvider.ResetPersonalizationState(System.Web.UI.WebControls.WebParts.WebPartManager)
  id: ResetPersonalizationState(System.Web.UI.WebControls.WebParts.WebPartManager)
  parent: System.Web.UI.WebControls.WebParts.PersonalizationProvider
  langs:
  - csharp
  name: ResetPersonalizationState(WebPartManager)
  nameWithType: PersonalizationProvider.ResetPersonalizationState(WebPartManager)
  fullName: System.Web.UI.WebControls.WebParts.PersonalizationProvider.ResetPersonalizationState(WebPartManager)
  type: Method
  assemblies:
  - System.Web
  namespace: System.Web.UI.WebControls.WebParts
  summary: "Resets personalization data to the underlying data store."
  remarks: "This method is the main entry point used by the <xref:System.Web.UI.WebControls.WebParts.WebPartPersonalization> class to reset personalization data. The default implementation uses the <xref:System.Web.UI.WebControls.WebParts.WebPartManager> control to determine the path and user name for the data to be reset. The default implementation then calls the <xref:System.Web.UI.WebControls.WebParts.PersonalizationProvider.ResetPersonalizationBlob%2A> method."
  syntax:
    content: public virtual void ResetPersonalizationState (System.Web.UI.WebControls.WebParts.WebPartManager webPartManager);
    parameters:
    - id: webPartManager
      type: System.Web.UI.WebControls.WebParts.WebPartManager
      description: "The <xref href=&quot;System.Web.UI.WebControls.WebParts.WebPartManager&quot;></xref> managing the personalization data."
  overload: System.Web.UI.WebControls.WebParts.PersonalizationProvider.ResetPersonalizationState*
  exceptions:
  - type: System.ArgumentNullException
    commentId: T:System.ArgumentNullException
    description: "<code>webPartManager</code> is <xref uid=&quot;langword_csharp_null&quot; name=&quot;null&quot; href=&quot;&quot;></xref>."
  - type: System.ArgumentException
    commentId: T:System.ArgumentException
    description: "<code>webPartManager</code> is not associated with a page.  \n  \n \\- or -  \n  \n The page is not associated with an in-progress <xref href=\"System.Web.HttpRequest\"></xref>."
  platform:
  - net462
- uid: System.Web.UI.WebControls.WebParts.PersonalizationProvider.ResetState(System.Web.UI.WebControls.WebParts.PersonalizationScope,System.String[],System.String[])
  id: ResetState(System.Web.UI.WebControls.WebParts.PersonalizationScope,System.String[],System.String[])
  parent: System.Web.UI.WebControls.WebParts.PersonalizationProvider
  langs:
  - csharp
  name: ResetState(PersonalizationScope,String[],String[])
  nameWithType: PersonalizationProvider.ResetState(PersonalizationScope,String[],String[])
  fullName: System.Web.UI.WebControls.WebParts.PersonalizationProvider.ResetState(PersonalizationScope,String[],String[])
  type: Method
  assemblies:
  - System.Web
  namespace: System.Web.UI.WebControls.WebParts
  summary: "When overridden in a derived class, deletes personalization state from the underlying data store based on the specified parameters."
  remarks: "This method is the abstract definition of an administrative method for deleting personalization data. Derived implementations should follow the logic described below.       No wildcard character searches are supported by this method. If the personalization provider exposes data from a transaction-aware data store, this method should perform its operations as a single atomic transaction.       Only the following combinations of parameters are allowed:      -   The `scope` parameter is set, and all other parameters are set to `null`. This combination deletes all Web Parts personalization data associated with the personalization scope indicated by `scope`.      -   The `scope` parameter is set, and the `paths` parameter contains at least one value. This combination deletes all Web Parts personalization data for the specified path or paths in the personalization scope indicated by `scope`.      -   The `scope` parameter is set to <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope>, the `paths` parameter is set and contains only one value, and the `usernames` parameter contains at least one value. This combination deletes all user personalization Web Parts data for the given path that is associated with the user or users contained in `usernames`.      -   The `scope` parameter is set to <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope>, the `paths` parameter is set to `null`, and the `usernames` parameter contains at least one value. This combination deletes all per-user personalization Web Parts data, across all paths, associated with the user or users contained in `usernames`.       Any other combination of parameter values is invalid and will throw an <xref:System.ArgumentException> exception. Specifically, the following two combinations are not allowed:      -   The `usernames` parameter cannot be provided when `scope` is set to <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope>.      -   The `paths` parameter cannot contain more than one entry when the `usernames` parameter is not `null`.       Any `paths` and `usernames` parameter values contained within the respective arrays must meet the following validation rules. If any validation rules fail for any member of the parameter arrays, an <xref:System.ArgumentException> exception is thrown. The validation rules are:      -   `null` values are not allowed.      -   An empty string (&quot;&quot;) is not allowed. Parameters should be trimmed prior to performing an empty string check.      -   The `usernames` parameter cannot contain commas (,).      -   The length of the `paths` parameter cannot be greater than 256 characters for a SQL database.      -   The length of the `usernames` parameter cannot be greater than 256 characters for a SQL database."
  syntax:
    content: public abstract int ResetState (System.Web.UI.WebControls.WebParts.PersonalizationScope scope, string[] paths, string[] usernames);
    parameters:
    - id: scope
      type: System.Web.UI.WebControls.WebParts.PersonalizationScope
      description: "A <xref href=&quot;System.Web.UI.WebControls.WebParts.PersonalizationScope&quot;></xref> of the personalization information to be reset. This value cannot be <xref uid=&quot;langword_csharp_null&quot; name=&quot;null&quot; href=&quot;&quot;></xref>."
    - id: paths
      type: System.String[]
      description: "The paths for personalization information to be deleted."
    - id: usernames
      type: System.String[]
      description: "The user names for personalization information to be deleted."
    return:
      type: System.Int32
      description: "The number of rows deleted."
  overload: System.Web.UI.WebControls.WebParts.PersonalizationProvider.ResetState*
  exceptions: []
  platform:
  - net462
- uid: System.Web.UI.WebControls.WebParts.PersonalizationProvider.ResetUserState(System.String,System.DateTime)
  id: ResetUserState(System.String,System.DateTime)
  parent: System.Web.UI.WebControls.WebParts.PersonalizationProvider
  langs:
  - csharp
  name: ResetUserState(String,DateTime)
  nameWithType: PersonalizationProvider.ResetUserState(String,DateTime)
  fullName: System.Web.UI.WebControls.WebParts.PersonalizationProvider.ResetUserState(String,DateTime)
  type: Method
  assemblies:
  - System.Web
  namespace: System.Web.UI.WebControls.WebParts
  summary: "When overridden in a derived class, deletes Web Parts personalization data from the underlying data store based on the specified parameters."
  remarks: "This method is the abstract definition of an administrative method for deleting personalization data. Note that this method affects only user personalization data, and not shared data.       Derived implementations should follow the logic described below:      -   The `path` parameter cannot contain wildcard characters.      -   If the provider exposes data from a transaction-aware data store, this method should perform its operations in a single atomic transaction.      -   If the `path` parameter is non-`null`, then only per-user personalization records associated with `path` will be deleted.      -   Only per-user personalization records associated with users that are considered inactive since the date indicated in the `userInactiveSinceDate` parameter will be deleted. Specifically, records where <xref:System.Web.UI.WebControls.WebParts.UserPersonalizationStateInfo.LastActivityDate%2A> is less than or equal to <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.UserInactiveSinceDate%2A> are deleted.      -   If both parameters are provided, then records that match both constraints are deleted.      -   The `path` parameter can be `null`.      -   The `path` parameter cannot be an empty string. It should be trimmed prior to performing this check.      -   The <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.UserInactiveSinceDate%2A> property cannot be `null`."
  syntax:
    content: public abstract int ResetUserState (string path, DateTime userInactiveSinceDate);
    parameters:
    - id: path
      type: System.String
      description: "The path of the personalization data to be deleted. This value can be <xref uid=&quot;langword_csharp_null&quot; name=&quot;null&quot; href=&quot;&quot;></xref> but cannot be an empty string (&quot;&quot;)."
    - id: userInactiveSinceDate
      type: System.DateTime
      description: "The date indicating the last time a Web site user changed personalization data."
    return:
      type: System.Int32
      description: "The number of rows deleted from the underlying data store."
  overload: System.Web.UI.WebControls.WebParts.PersonalizationProvider.ResetUserState*
  exceptions: []
  platform:
  - net462
- uid: System.Web.UI.WebControls.WebParts.PersonalizationProvider.SavePersonalizationBlob(System.Web.UI.WebControls.WebParts.WebPartManager,System.String,System.String,System.Byte[])
  id: SavePersonalizationBlob(System.Web.UI.WebControls.WebParts.WebPartManager,System.String,System.String,System.Byte[])
  parent: System.Web.UI.WebControls.WebParts.PersonalizationProvider
  langs:
  - csharp
  name: SavePersonalizationBlob(WebPartManager,String,String,Byte[])
  nameWithType: PersonalizationProvider.SavePersonalizationBlob(WebPartManager,String,String,Byte[])
  fullName: System.Web.UI.WebControls.WebParts.PersonalizationProvider.SavePersonalizationBlob(WebPartManager,String,String,Byte[])
  type: Method
  assemblies:
  - System.Web
  namespace: System.Web.UI.WebControls.WebParts
  summary: "When overridden in a derived class, saves raw personalization data to the underlying data store."
  remarks: "This method is the abstract definition of the method used for saving raw personalization data to the underlying data store.       Derived implementations should use the `webPartManager`, `path`, and `userName` parameters as storage keys. The derived personalization provider must be able to distinguish personalization data on a per-page basis. Furthermore, for a given page&quot;s state, the provider must be able to distinguish between <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope> and <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope> scope. If a non-`null` user name is provided, then the `dataBlob` parameter is in <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope> scope; otherwise, the `dataBlob` parameter is assumed to be in <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope> scope."
  syntax:
    content: protected abstract void SavePersonalizationBlob (System.Web.UI.WebControls.WebParts.WebPartManager webPartManager, string path, string userName, byte[] dataBlob);
    parameters:
    - id: webPartManager
      type: System.Web.UI.WebControls.WebParts.WebPartManager
      description: "The <xref href=&quot;System.Web.UI.WebControls.WebParts.WebPartManager&quot;></xref> managing the personalization data."
    - id: path
      type: System.String
      description: "The path for personalization information to be used as the data store key."
    - id: userName
      type: System.String
      description: "The user name for personalization information to be used as the key."
    - id: dataBlob
      type: System.Byte[]
      description: "The byte array of data to be saved."
  overload: System.Web.UI.WebControls.WebParts.PersonalizationProvider.SavePersonalizationBlob*
  exceptions: []
  platform:
  - net462
- uid: System.Web.UI.WebControls.WebParts.PersonalizationProvider.SavePersonalizationState(System.Web.UI.WebControls.WebParts.PersonalizationState)
  id: SavePersonalizationState(System.Web.UI.WebControls.WebParts.PersonalizationState)
  parent: System.Web.UI.WebControls.WebParts.PersonalizationProvider
  langs:
  - csharp
  name: SavePersonalizationState(PersonalizationState)
  nameWithType: PersonalizationProvider.SavePersonalizationState(PersonalizationState)
  fullName: System.Web.UI.WebControls.WebParts.PersonalizationProvider.SavePersonalizationState(PersonalizationState)
  type: Method
  assemblies:
  - System.Web
  namespace: System.Web.UI.WebControls.WebParts
  summary: "Saves personalization data to a data store."
  remarks: "This method is the main entry point used by the <xref:System.Web.UI.WebControls.WebParts.WebPartPersonalization> class to save personalization data.       The default implementation of this method uses the methods of an internal implementation of <xref:System.Web.UI.WebControls.WebParts.PersonalizationState> to pack personalization data into a byte array. If the results of this packing create an empty byte array (because property extraction resulted in no personalization data), the default implementation calls the <xref:System.Web.UI.WebControls.WebParts.PersonalizationProvider.ResetPersonalizationBlob%2A> method. Otherwise, the default implementation calls the <xref:System.Web.UI.WebControls.WebParts.PersonalizationProvider.SavePersonalizationBlob%2A> method."
  syntax:
    content: public virtual void SavePersonalizationState (System.Web.UI.WebControls.WebParts.PersonalizationState state);
    parameters:
    - id: state
      type: System.Web.UI.WebControls.WebParts.PersonalizationState
      description: "A <xref href=&quot;System.Web.UI.WebControls.WebParts.PersonalizationState&quot;></xref> containing personalization data to be saved."
  overload: System.Web.UI.WebControls.WebParts.PersonalizationProvider.SavePersonalizationState*
  exceptions:
  - type: System.ArgumentNullException
    commentId: T:System.ArgumentNullException
    description: "<code>state</code> is <xref uid=&quot;langword_csharp_null&quot; name=&quot;null&quot; href=&quot;&quot;></xref>."
  - type: System.ArgumentException
    commentId: T:System.ArgumentException
    description: "The <code>state</code> object being saved has a different type from the <code>state</code> object that was returned by the <xref:System.Web.UI.WebControls.WebParts.PersonalizationProvider.LoadPersonalizationState*> method."
  platform:
  - net462
references:
- uid: System.Configuration.Provider.ProviderBase
  isExternal: false
  name: System.Configuration.Provider.ProviderBase
- uid: System.ArgumentNullException
  isExternal: true
  name: System.ArgumentNullException
- uid: System.ArgumentException
  isExternal: true
  name: System.ArgumentException
- uid: System.Web.UI.WebControls.WebParts.PersonalizationProvider.#ctor
  parent: System.Web.UI.WebControls.WebParts.PersonalizationProvider
  isExternal: false
  name: PersonalizationProvider()
  nameWithType: PersonalizationProvider.PersonalizationProvider()
  fullName: System.Web.UI.WebControls.WebParts.PersonalizationProvider.PersonalizationProvider()
- uid: System.Web.UI.WebControls.WebParts.PersonalizationProvider.ApplicationName
  parent: System.Web.UI.WebControls.WebParts.PersonalizationProvider
  isExternal: false
  name: ApplicationName
  nameWithType: PersonalizationProvider.ApplicationName
  fullName: System.Web.UI.WebControls.WebParts.PersonalizationProvider.ApplicationName
- uid: System.String
  parent: System
  isExternal: true
  name: String
  nameWithType: String
  fullName: System.String
- uid: System.Web.UI.WebControls.WebParts.PersonalizationProvider.CreateSupportedUserCapabilities
  parent: System.Web.UI.WebControls.WebParts.PersonalizationProvider
  isExternal: false
  name: CreateSupportedUserCapabilities()
  nameWithType: PersonalizationProvider.CreateSupportedUserCapabilities()
  fullName: System.Web.UI.WebControls.WebParts.PersonalizationProvider.CreateSupportedUserCapabilities()
- uid: System.Collections.IList
  parent: System.Collections
  isExternal: true
  name: IList
  nameWithType: IList
  fullName: System.Collections.IList
- uid: System.Web.UI.WebControls.WebParts.PersonalizationProvider.DetermineInitialScope(System.Web.UI.WebControls.WebParts.WebPartManager,System.Web.UI.WebControls.WebParts.PersonalizationState)
  parent: System.Web.UI.WebControls.WebParts.PersonalizationProvider
  isExternal: false
  name: DetermineInitialScope(WebPartManager,PersonalizationState)
  nameWithType: PersonalizationProvider.DetermineInitialScope(WebPartManager,PersonalizationState)
  fullName: System.Web.UI.WebControls.WebParts.PersonalizationProvider.DetermineInitialScope(WebPartManager,PersonalizationState)
- uid: System.Web.UI.WebControls.WebParts.PersonalizationScope
  parent: System.Web.UI.WebControls.WebParts
  isExternal: false
  name: PersonalizationScope
  nameWithType: PersonalizationScope
  fullName: System.Web.UI.WebControls.WebParts.PersonalizationScope
- uid: System.Web.UI.WebControls.WebParts.WebPartManager
  parent: System.Web.UI.WebControls.WebParts
  isExternal: false
  name: WebPartManager
  nameWithType: WebPartManager
  fullName: System.Web.UI.WebControls.WebParts.WebPartManager
- uid: System.Web.UI.WebControls.WebParts.PersonalizationState
  parent: System.Web.UI.WebControls.WebParts
  isExternal: false
  name: PersonalizationState
  nameWithType: PersonalizationState
  fullName: System.Web.UI.WebControls.WebParts.PersonalizationState
- uid: System.Web.UI.WebControls.WebParts.PersonalizationProvider.DetermineUserCapabilities(System.Web.UI.WebControls.WebParts.WebPartManager)
  parent: System.Web.UI.WebControls.WebParts.PersonalizationProvider
  isExternal: false
  name: DetermineUserCapabilities(WebPartManager)
  nameWithType: PersonalizationProvider.DetermineUserCapabilities(WebPartManager)
  fullName: System.Web.UI.WebControls.WebParts.PersonalizationProvider.DetermineUserCapabilities(WebPartManager)
- uid: System.Collections.IDictionary
  parent: System.Collections
  isExternal: true
  name: IDictionary
  nameWithType: IDictionary
  fullName: System.Collections.IDictionary
- uid: System.Web.UI.WebControls.WebParts.PersonalizationProvider.FindState(System.Web.UI.WebControls.WebParts.PersonalizationScope,System.Web.UI.WebControls.WebParts.PersonalizationStateQuery,System.Int32,System.Int32,System.Int32@)
  parent: System.Web.UI.WebControls.WebParts.PersonalizationProvider
  isExternal: false
  name: FindState(PersonalizationScope,PersonalizationStateQuery,Int32,Int32,Int32)
  nameWithType: PersonalizationProvider.FindState(PersonalizationScope,PersonalizationStateQuery,Int32,Int32,Int32)
  fullName: System.Web.UI.WebControls.WebParts.PersonalizationProvider.FindState(PersonalizationScope,PersonalizationStateQuery,Int32,Int32,Int32)
- uid: System.Web.UI.WebControls.WebParts.PersonalizationStateInfoCollection
  parent: System.Web.UI.WebControls.WebParts
  isExternal: false
  name: PersonalizationStateInfoCollection
  nameWithType: PersonalizationStateInfoCollection
  fullName: System.Web.UI.WebControls.WebParts.PersonalizationStateInfoCollection
- uid: System.Web.UI.WebControls.WebParts.PersonalizationStateQuery
  parent: System.Web.UI.WebControls.WebParts
  isExternal: false
  name: PersonalizationStateQuery
  nameWithType: PersonalizationStateQuery
  fullName: System.Web.UI.WebControls.WebParts.PersonalizationStateQuery
- uid: System.Int32
  parent: System
  isExternal: true
  name: Int32
  nameWithType: Int32
  fullName: System.Int32
- uid: System.Web.UI.WebControls.WebParts.PersonalizationProvider.GetCountOfState(System.Web.UI.WebControls.WebParts.PersonalizationScope,System.Web.UI.WebControls.WebParts.PersonalizationStateQuery)
  parent: System.Web.UI.WebControls.WebParts.PersonalizationProvider
  isExternal: false
  name: GetCountOfState(PersonalizationScope,PersonalizationStateQuery)
  nameWithType: PersonalizationProvider.GetCountOfState(PersonalizationScope,PersonalizationStateQuery)
  fullName: System.Web.UI.WebControls.WebParts.PersonalizationProvider.GetCountOfState(PersonalizationScope,PersonalizationStateQuery)
- uid: System.Web.UI.WebControls.WebParts.PersonalizationProvider.LoadPersonalizationBlobs(System.Web.UI.WebControls.WebParts.WebPartManager,System.String,System.String,System.Byte[]@,System.Byte[]@)
  parent: System.Web.UI.WebControls.WebParts.PersonalizationProvider
  isExternal: false
  name: LoadPersonalizationBlobs(WebPartManager,String,String,Byte[],Byte[])
  nameWithType: PersonalizationProvider.LoadPersonalizationBlobs(WebPartManager,String,String,Byte[],Byte[])
  fullName: System.Web.UI.WebControls.WebParts.PersonalizationProvider.LoadPersonalizationBlobs(WebPartManager,String,String,Byte[],Byte[])
- uid: System.Byte[]
  parent: System
  isExternal: true
  name: Byte
  nameWithType: Byte
  fullName: System.Byte[]
  spec.csharp:
  - uid: System.Byte
    name: Byte
    nameWithType: Byte
    fullName: Byte[]
  - name: '[]'
    nameWithType: '[]'
    fullName: '[]'
- uid: System.Web.UI.WebControls.WebParts.PersonalizationProvider.LoadPersonalizationState(System.Web.UI.WebControls.WebParts.WebPartManager,System.Boolean)
  parent: System.Web.UI.WebControls.WebParts.PersonalizationProvider
  isExternal: false
  name: LoadPersonalizationState(WebPartManager,Boolean)
  nameWithType: PersonalizationProvider.LoadPersonalizationState(WebPartManager,Boolean)
  fullName: System.Web.UI.WebControls.WebParts.PersonalizationProvider.LoadPersonalizationState(WebPartManager,Boolean)
- uid: System.Boolean
  parent: System
  isExternal: true
  name: Boolean
  nameWithType: Boolean
  fullName: System.Boolean
- uid: System.Web.UI.WebControls.WebParts.PersonalizationProvider.ResetPersonalizationBlob(System.Web.UI.WebControls.WebParts.WebPartManager,System.String,System.String)
  parent: System.Web.UI.WebControls.WebParts.PersonalizationProvider
  isExternal: false
  name: ResetPersonalizationBlob(WebPartManager,String,String)
  nameWithType: PersonalizationProvider.ResetPersonalizationBlob(WebPartManager,String,String)
  fullName: System.Web.UI.WebControls.WebParts.PersonalizationProvider.ResetPersonalizationBlob(WebPartManager,String,String)
- uid: System.Web.UI.WebControls.WebParts.PersonalizationProvider.ResetPersonalizationState(System.Web.UI.WebControls.WebParts.WebPartManager)
  parent: System.Web.UI.WebControls.WebParts.PersonalizationProvider
  isExternal: false
  name: ResetPersonalizationState(WebPartManager)
  nameWithType: PersonalizationProvider.ResetPersonalizationState(WebPartManager)
  fullName: System.Web.UI.WebControls.WebParts.PersonalizationProvider.ResetPersonalizationState(WebPartManager)
- uid: System.Web.UI.WebControls.WebParts.PersonalizationProvider.ResetState(System.Web.UI.WebControls.WebParts.PersonalizationScope,System.String[],System.String[])
  parent: System.Web.UI.WebControls.WebParts.PersonalizationProvider
  isExternal: false
  name: ResetState(PersonalizationScope,String[],String[])
  nameWithType: PersonalizationProvider.ResetState(PersonalizationScope,String[],String[])
  fullName: System.Web.UI.WebControls.WebParts.PersonalizationProvider.ResetState(PersonalizationScope,String[],String[])
- uid: System.String[]
  parent: System
  isExternal: true
  name: String
  nameWithType: String
  fullName: System.String[]
  spec.csharp:
  - uid: System.String
    name: String
    nameWithType: String
    fullName: String[]
  - name: '[]'
    nameWithType: '[]'
    fullName: '[]'
- uid: System.Web.UI.WebControls.WebParts.PersonalizationProvider.ResetUserState(System.String,System.DateTime)
  parent: System.Web.UI.WebControls.WebParts.PersonalizationProvider
  isExternal: false
  name: ResetUserState(String,DateTime)
  nameWithType: PersonalizationProvider.ResetUserState(String,DateTime)
  fullName: System.Web.UI.WebControls.WebParts.PersonalizationProvider.ResetUserState(String,DateTime)
- uid: System.DateTime
  parent: System
  isExternal: true
  name: DateTime
  nameWithType: DateTime
  fullName: System.DateTime
- uid: System.Web.UI.WebControls.WebParts.PersonalizationProvider.SavePersonalizationBlob(System.Web.UI.WebControls.WebParts.WebPartManager,System.String,System.String,System.Byte[])
  parent: System.Web.UI.WebControls.WebParts.PersonalizationProvider
  isExternal: false
  name: SavePersonalizationBlob(WebPartManager,String,String,Byte[])
  nameWithType: PersonalizationProvider.SavePersonalizationBlob(WebPartManager,String,String,Byte[])
  fullName: System.Web.UI.WebControls.WebParts.PersonalizationProvider.SavePersonalizationBlob(WebPartManager,String,String,Byte[])
- uid: System.Web.UI.WebControls.WebParts.PersonalizationProvider.SavePersonalizationState(System.Web.UI.WebControls.WebParts.PersonalizationState)
  parent: System.Web.UI.WebControls.WebParts.PersonalizationProvider
  isExternal: false
  name: SavePersonalizationState(PersonalizationState)
  nameWithType: PersonalizationProvider.SavePersonalizationState(PersonalizationState)
  fullName: System.Web.UI.WebControls.WebParts.PersonalizationProvider.SavePersonalizationState(PersonalizationState)
- uid: System.Web.UI.WebControls.WebParts.PersonalizationProvider.#ctor*
  parent: System.Web.UI.WebControls.WebParts.PersonalizationProvider
  isExternal: false
  name: PersonalizationProvider
  nameWithType: PersonalizationProvider.PersonalizationProvider
- uid: System.Web.UI.WebControls.WebParts.PersonalizationProvider.ApplicationName*
  parent: System.Web.UI.WebControls.WebParts.PersonalizationProvider
  isExternal: false
  name: ApplicationName
  nameWithType: PersonalizationProvider.ApplicationName
- uid: System.Web.UI.WebControls.WebParts.PersonalizationProvider.CreateSupportedUserCapabilities*
  parent: System.Web.UI.WebControls.WebParts.PersonalizationProvider
  isExternal: false
  name: CreateSupportedUserCapabilities
  nameWithType: PersonalizationProvider.CreateSupportedUserCapabilities
- uid: System.Web.UI.WebControls.WebParts.PersonalizationProvider.DetermineInitialScope*
  parent: System.Web.UI.WebControls.WebParts.PersonalizationProvider
  isExternal: false
  name: DetermineInitialScope
  nameWithType: PersonalizationProvider.DetermineInitialScope
- uid: System.Web.UI.WebControls.WebParts.PersonalizationProvider.DetermineUserCapabilities*
  parent: System.Web.UI.WebControls.WebParts.PersonalizationProvider
  isExternal: false
  name: DetermineUserCapabilities
  nameWithType: PersonalizationProvider.DetermineUserCapabilities
- uid: System.Web.UI.WebControls.WebParts.PersonalizationProvider.FindState*
  parent: System.Web.UI.WebControls.WebParts.PersonalizationProvider
  isExternal: false
  name: FindState
  nameWithType: PersonalizationProvider.FindState
- uid: System.Web.UI.WebControls.WebParts.PersonalizationProvider.GetCountOfState*
  parent: System.Web.UI.WebControls.WebParts.PersonalizationProvider
  isExternal: false
  name: GetCountOfState
  nameWithType: PersonalizationProvider.GetCountOfState
- uid: System.Web.UI.WebControls.WebParts.PersonalizationProvider.LoadPersonalizationBlobs*
  parent: System.Web.UI.WebControls.WebParts.PersonalizationProvider
  isExternal: false
  name: LoadPersonalizationBlobs
  nameWithType: PersonalizationProvider.LoadPersonalizationBlobs
- uid: System.Web.UI.WebControls.WebParts.PersonalizationProvider.LoadPersonalizationState*
  parent: System.Web.UI.WebControls.WebParts.PersonalizationProvider
  isExternal: false
  name: LoadPersonalizationState
  nameWithType: PersonalizationProvider.LoadPersonalizationState
- uid: System.Web.UI.WebControls.WebParts.PersonalizationProvider.ResetPersonalizationBlob*
  parent: System.Web.UI.WebControls.WebParts.PersonalizationProvider
  isExternal: false
  name: ResetPersonalizationBlob
  nameWithType: PersonalizationProvider.ResetPersonalizationBlob
- uid: System.Web.UI.WebControls.WebParts.PersonalizationProvider.ResetPersonalizationState*
  parent: System.Web.UI.WebControls.WebParts.PersonalizationProvider
  isExternal: false
  name: ResetPersonalizationState
  nameWithType: PersonalizationProvider.ResetPersonalizationState
- uid: System.Web.UI.WebControls.WebParts.PersonalizationProvider.ResetState*
  parent: System.Web.UI.WebControls.WebParts.PersonalizationProvider
  isExternal: false
  name: ResetState
  nameWithType: PersonalizationProvider.ResetState
- uid: System.Web.UI.WebControls.WebParts.PersonalizationProvider.ResetUserState*
  parent: System.Web.UI.WebControls.WebParts.PersonalizationProvider
  isExternal: false
  name: ResetUserState
  nameWithType: PersonalizationProvider.ResetUserState
- uid: System.Web.UI.WebControls.WebParts.PersonalizationProvider.SavePersonalizationBlob*
  parent: System.Web.UI.WebControls.WebParts.PersonalizationProvider
  isExternal: false
  name: SavePersonalizationBlob
  nameWithType: PersonalizationProvider.SavePersonalizationBlob
- uid: System.Web.UI.WebControls.WebParts.PersonalizationProvider.SavePersonalizationState*
  parent: System.Web.UI.WebControls.WebParts.PersonalizationProvider
  isExternal: false
  name: SavePersonalizationState
  nameWithType: PersonalizationProvider.SavePersonalizationState
